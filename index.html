<html>
    <head>
        <title>Spam Detection</title>
        <script type="text/javascript" src="brython.js"></script>
        <script type="text/javascript" src="brython_stdlib.js"></script>
    </head>

    <body onload="brython({debug:1, cache:'none'})">
        <script type="text/python3">
            from browser import document, alert, html, ajax
            import browser.timer
            import json
            import warnings

            def show_results(response):
                if response.status==200 or response.status==0:
                    document["result"].html = response.text
                else:
                    warnings.warn(response.text)

            def get_prediction(ev=click):
                req = ajax.ajax()
                req.bind('complete', show_results)
                req.open('GET', '/get_events', True)
                req.set_header('content-type','application/json')
                req.send()

            # run get_prediction every 5 seconds
            # browser.timer.set_interval(get_prediction, 5000)
            # document["predict_button"].bind("click", get_prediction)
        </script>
        <h1>Welcome to the realtime fraud detection portal</h1><br>
        <textarea id="_id"></textarea>
        button id="predict_button">Find Result!</button>-->
        &nbsp;
        <div id="result"></div>
    </body>
</html>
